# üìß Email Setup Guide

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É**: http://localhost:3000/admin
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Settings ‚Üí Email Settings
3. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** (Gmail, SendGrid, Mailgun, –∏–ª–∏ Custom)
4. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º** –≤–æ –≤–∫–ª–∞–¥–∫–µ "Setup Instructions"
5. **–í–∫–ª—é—á–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É**: Enable Email Sending = ON
6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ**: –≤–∫–ª–∞–¥–∫–∞ "Test Email"

---

## üì® –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### 1. Gmail (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç DNS

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –õ–∏–º–∏—Ç: 500 emails/–¥–µ–Ω—å
- ‚ùå –¢—Ä–µ–±—É–µ—Ç App Password (2FA)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### 2. SendGrid (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è production)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 100 emails/–¥–µ–Ω—å
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–æ–º–µ–Ω–∞ –¥–ª—è production

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** Production —Å–∞–π—Ç

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è phe.tue.nl:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ SendGrid
2. Verify domain: phe.tue.nl
3. –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏ (TXT, CNAME)
4. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
5. From Email: noreply@phe.tue.nl

---

### 3. Mailgun

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 5,000 emails/–º–µ—Å—è—Ü (–ø–µ—Ä–≤—ã–µ 3 –º–µ—Å—è—Ü–∞)
- ‚úÖ –•–æ—Ä–æ—à–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å
- ‚úÖ API –∏ SMTP

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∫–∞—Ä—Ç—É –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SendGrid

---

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: Gmail (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

#### –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç–µ 2FA
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://myaccount.google.com/security
2. –í–∫–ª—é—á–∏—Ç–µ "2-Step Verification"

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ App Password
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://myaccount.google.com/apppasswords
2. App: "Other (Custom name)" ‚Üí "PhE Website"
3. –ù–∞–∂–º–∏—Ç–µ "Generate"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å (—Ñ–æ—Ä–º–∞—Ç: xxxx xxxx xxxx xxxx)

#### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –∞–¥–º–∏–Ω–∫–µ
```
Provider: Gmail
Gmail Address: your-email@gmail.com
App Password: xxxx xxxx xxxx xxxx
From Name: PhE Team
Enable Email Sending: ON
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: SendGrid (Production)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: https://signup.sendgrid.com
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

#### –®–∞–≥ 2: Verify Sender
–î–ª—è –¥–æ–º–µ–Ω–∞ phe.tue.nl:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Settings ‚Üí Sender Authentication ‚Üí Verify a Domain
2. –í—ã–±–µ—Ä–∏—Ç–µ "phe.tue.nl"
3. –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏ (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã SendGrid):

```dns
Type: TXT
Host: em1234.phe.tue.nl
Value: v=spf1 include:sendgrid.net ~all

Type: CNAME
Host: s1._domainkey.phe.tue.nl
Value: s1.domainkey.u1234567.wl.sendgrid.net

Type: CNAME
Host: s2._domainkey.phe.tue.nl
Value: s2.domainkey.u1234567.wl.sendgrid.net
```

4. –î–æ–∂–¥–∏—Ç–µ—Å—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–æ 48 —á–∞—Å–æ–≤)

#### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
1. Settings ‚Üí API Keys ‚Üí Create API Key
2. Name: "PhE Website"
3. Permissions: "Full Access" –∏–ª–∏ "Mail Send"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å SG.)

#### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –∞–¥–º–∏–Ω–∫–µ
```
Provider: SendGrid
API Key: SG.xxxxxxxxxxxxxxxxxx
From Email: noreply@phe.tue.nl
From Name: PhE Team
Enable Email Sending: ON
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ: Settings ‚Üí Email Settings ‚Üí Test Email
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à email –∞–¥—Ä–µ—Å
3. –ù–∞–∂–º–∏—Ç–µ "Save" (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!)
4. –ù–∞–∂–º–∏—Ç–µ "Send Test Email"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ inbox (–∏ spam –ø–∞–ø–∫—É)

‚úÖ –ï—Å–ª–∏ –ø–∏—Å—å–º–æ –ø—Ä–∏—à–ª–æ ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç!
‚ùå –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ server logs

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ

### Contact Submissions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Forms ‚Üí Contact Submissions
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞—è–≤–∫—É
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ "Reply Email":
   ```
   Subject: Re: Your inquiry
   Body: Dear {{name}},
   
   Thank you for contacting us...
   ```
4. –ù–∞–∂–º–∏—Ç–µ Save ‚Üí email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### Join Submissions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Forms ‚Üí Join Submissions
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞—è–≤–∫—É
3. –ò–∑–º–µ–Ω–∏—Ç–µ Status –Ω–∞ "Accepted" –∏–ª–∏ "Rejected"
4. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ email —à–∞–±–ª–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –ù–∞–∂–º–∏—Ç–µ Save ‚Üí email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û:

1. **–ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ** API –∫–ª—é—á–∏ –≤ git
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .env** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω–∫—É** –¥–ª—è production –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. **–•—Ä–∞–Ω–∏—Ç–µ .env –≤ .gitignore**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ .gitignore:
```bash
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ .gitignore:
.env
.env.local
.env.production
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to send email"

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ "Enable Email Sending" = ON
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á / App Password
3. –î–ª—è Gmail: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ App Password (–Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å)
4. –î–ª—è SendGrid: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω verified
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ server logs: `pnpm dev`

### –ü—Ä–æ–±–ª–µ–º–∞: Emails –≤ spam

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ verified –¥–æ–º–µ–Ω (SendGrid/Mailgun)
2. –î–æ–±–∞–≤—å—Ç–µ SPF –∏ DKIM –∑–∞–ø–∏—Å–∏ –≤ DNS
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π From Email (–Ω–µ Gmail)

### –ü—Ä–æ–±–ª–µ–º–∞: "Authentication failed"

**Gmail:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ 2FA –≤–∫–ª—é—á–µ–Ω
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ App Password, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å

**SendGrid:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å SG.)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ Mail Send

---

## üöÄ Production Checklist

–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –Ω–∞ production:

- [ ] –í—ã–±—Ä–∞–Ω –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (SendGrid/Mailgun)
- [ ] –î–æ–º–µ–Ω verified
- [ ] DNS –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã (SPF, DKIM)
- [ ] API –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–µ –≤ git)
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] From Email = –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π (noreply@phe.tue.nl)
- [ ] Enable Email Sending = ON

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- SendGrid docs: https://docs.sendgrid.com
- Gmail SMTP: https://support.google.com/mail/answer/7126229
- Mailgun docs: https://documentation.mailgun.com

**–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π?**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ server logs –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–æ–∫.